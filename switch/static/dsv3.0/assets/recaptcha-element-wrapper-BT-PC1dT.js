import{S as s,i as c,k as n,a,j as r}from"./index-C2PWchud.js";import{u as o}from"./utils-mixin-D5aAiqNi.js";const i=class extends o(s){static get properties(){return{title:String,icon:String,required:Boolean,params:Object}}getValue(){return grecaptcha.execute(this.e.defaultValue,{action:"submit"}).then(e=>e)}getName(){return this.e.formName.split("=")[0]}validate(){return new this.Validation(!0,"valid")}getRecaptchaToken(){return grecaptcha?grecaptcha.execute(this.e.defaultValue,{action:"submit"}).then(e=>e):(console.error("reCAPTCHA is not initialized."),Promise.reject("reCAPTCHA is not initialized."))}static get is(){return"recaptcha-element"}valid(){}invalid(){}init(e,t){super.init(e,t),this.required=this.e.required||e.min&&e.min>0,this.title=i.toTitleCase(e.name),this.icon=e.icon,this.params=this.pl.paramsCopy()}};class l extends i{static get styles(){return[c`
        :host {
          display: block;
        }
      `]}static get properties(){return{e:{type:Object}}}updated(t){t.has("e")&&this.initRecaptcha()}initRecaptcha(){if(this.e&&this.e.defaultValue){const t=document.createElement("script");t.src=`https://www.google.com/recaptcha/api.js?render=${this.e.defaultValue}`,document.head.appendChild(t),t.onload=()=>{console.log("reCAPTCHA script loaded")},t.onerror=()=>{console.error("Failed to load reCAPTCHA script")}}else console.error("reCAPTCHA key (defaultValue) not provided")}render(){return n``}}customElements.define("recaptcha-element",l);const d=({element:e})=>{const t=a.useRef(null);return a.useEffect(()=>{t.current&&e&&(t.current.e=e)},[e]),r.jsx(r.Fragment,{children:e&&r.jsx("recaptcha-element",{id:"recaptcha-element",ref:t})})};export{d as default};
