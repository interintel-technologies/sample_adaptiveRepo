import{i as ht,b as st}from"./transform-C4D8YA0C.js";import{m as mt,s as Q,i as gt}from"./array-UnU61Zeg.js";import{i as dt}from"./value-_r9_x9JY.js";var G=Math.sqrt(50),Y=Math.sqrt(10),B=Math.sqrt(2);function Mt(t,n,e){var r,i=-1,a,o,l;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(a=t,t=n,n=a),(l=T(t,n,e))===0||!isFinite(l))return[];if(l>0)for(t=Math.ceil(t/l),n=Math.floor(n/l),o=new Array(a=Math.ceil(n-t+1));++i<a;)o[i]=(t+i)*l;else for(t=Math.floor(t*l),n=Math.ceil(n*l),o=new Array(a=Math.ceil(t-n+1));++i<a;)o[i]=(t-i)/l;return r&&o.reverse(),o}function T(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=G?10:a>=Y?5:a>=B?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=G?10:a>=Y?5:a>=B?2:1)}function pt(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=G?i*=10:a>=Y?i*=5:a>=B&&(i*=2),n<t?-i:i}function Zt(t,n){var e=t.length,r=-1,i,a;if(n==null){for(;++r<e;)if((i=t[r])!=null&&i>=i)for(a=i;++r<e;)(i=t[r])!=null&&i>a&&(a=i)}else for(;++r<e;)if((i=n(t[r],r,t))!=null&&i>=i)for(a=i;++r<e;)(i=n(t[r],r,t))!=null&&i>a&&(a=i);return a}var O=Array.prototype.slice;function yt(t){return t}var X=1,D=2,U=3,V=4,W=1e-6;function kt(t){return"translate("+(t+.5)+",0)"}function wt(t){return"translate(0,"+(t+.5)+")"}function bt(t){return function(n){return+t(n)}}function xt(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function vt(){return!this.__axis}function ut(t,n){var e=[],r=null,i=null,a=6,o=6,l=3,f=t===X||t===V?-1:1,p=t===V||t===D?"x":"y",y=t===X||t===U?kt:wt;function c(u){var x=r??(n.ticks?n.ticks.apply(n,e):n.domain()),m=i??(n.tickFormat?n.tickFormat.apply(n,e):yt),N=Math.max(a,0)+l,w=n.range(),b=+w[0]+.5,S=+w[w.length-1]+.5,g=(n.bandwidth?xt:bt)(n.copy()),A=u.selection?u.selection():u,s=A.selectAll(".domain").data([null]),k=A.selectAll(".tick").data(x,n).order(),L=k.exit(),F=k.enter().append("g").attr("class","tick"),P=k.select("line"),z=k.select("text");s=s.merge(s.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(F),P=P.merge(F.append("line").attr("stroke","currentColor").attr(p+"2",f*a)),z=z.merge(F.append("text").attr("fill","currentColor").attr(p,f*N).attr("dy",t===X?"0em":t===U?"0.71em":"0.32em")),u!==A&&(s=s.transition(u),k=k.transition(u),P=P.transition(u),z=z.transition(u),L=L.transition(u).attr("opacity",W).attr("transform",function(h){return isFinite(h=g(h))?y(h):this.getAttribute("transform")}),F.attr("opacity",W).attr("transform",function(h){var d=this.parentNode.__axis;return y(d&&isFinite(d=d(h))?d:g(h))})),L.remove(),s.attr("d",t===V||t==D?o?"M"+f*o+","+b+"H0.5V"+S+"H"+f*o:"M0.5,"+b+"V"+S:o?"M"+b+","+f*o+"V0.5H"+S+"V"+f*o:"M"+b+",0.5H"+S),k.attr("opacity",1).attr("transform",function(h){return y(g(h))}),P.attr(p+"2",f*a),z.attr(p,f*N).text(m),A.filter(vt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===D?"start":t===V?"end":"middle"),A.each(function(){this.__axis=g})}return c.scale=function(u){return arguments.length?(n=u,c):n},c.ticks=function(){return e=O.call(arguments),c},c.tickArguments=function(u){return arguments.length?(e=u==null?[]:O.call(u),c):e.slice()},c.tickValues=function(u){return arguments.length?(r=u==null?null:O.call(u),c):r&&r.slice()},c.tickFormat=function(u){return arguments.length?(i=u,c):i},c.tickSize=function(u){return arguments.length?(a=o=+u,c):a},c.tickSizeInner=function(u){return arguments.length?(a=+u,c):a},c.tickSizeOuter=function(u){return arguments.length?(o=+u,c):o},c.tickPadding=function(u){return arguments.length?(l=+u,c):l},c}function Jt(t){return ut(U,t)}function Kt(t){return ut(V,t)}function Nt(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function St(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function E(t){return t=_(Math.abs(t)),t?t[1]:NaN}function At(t,n){return function(e,r){for(var i=e.length,a=[],o=0,l=t[0],f=0;i>0&&l>0&&(f+l+1>r&&(l=Math.max(1,r-f)),a.push(e.substring(i-=l,i+l)),!((f+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(n)}}function zt(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Ft=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function q(t){if(!(n=Ft.exec(t)))throw new Error("invalid format: "+t);var n;return new J({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}q.prototype=J.prototype;function J(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}J.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pt(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ft;function $t(t,n){var e=_(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ft=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_(t,Math.max(0,n+a-1))[0]}function tt(t,n){var e=_(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nt={"%":function(t,n){return(t*100).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:St,e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return tt(t*100,n)},r:tt,s:$t,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function rt(t){return t}var it=Array.prototype.map,et=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function jt(t){var n=t.grouping===void 0||t.thousands===void 0?rt:At(it.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?rt:zt(it.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"-":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function p(c){c=q(c);var u=c.fill,x=c.align,m=c.sign,N=c.symbol,w=c.zero,b=c.width,S=c.comma,g=c.precision,A=c.trim,s=c.type;s==="n"?(S=!0,s="g"):nt[s]||(g===void 0&&(g=12),A=!0,s="g"),(w||u==="0"&&x==="=")&&(w=!0,u="0",x="=");var k=N==="$"?e:N==="#"&&/[boxX]/.test(s)?"0"+s.toLowerCase():"",L=N==="$"?r:/[%p]/.test(s)?o:"",F=nt[s],P=/[defgprs%]/.test(s);g=g===void 0?6:/[gprs]/.test(s)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function z(h){var d=k,M=L,$,K,C;if(s==="c")M=F(h)+M,h="";else{h=+h;var R=h<0||1/h<0;if(h=isNaN(h)?f:F(Math.abs(h),g),A&&(h=Pt(h)),R&&+h==0&&m!=="+"&&(R=!1),d=(R?m==="("?m:l:m==="-"||m==="("?"":m)+d,M=(s==="s"?et[8+ft/3]:"")+M+(R&&m==="("?")":""),P){for($=-1,K=h.length;++$<K;)if(C=h.charCodeAt($),48>C||C>57){M=(C===46?i+h.slice($+1):h.slice($))+M,h=h.slice(0,$);break}}}S&&!w&&(h=n(h,1/0));var I=d.length+h.length+M.length,v=I<b?new Array(b-I+1).join(u):"";switch(S&&w&&(h=n(v+h,v.length?b-M.length:1/0),v=""),x){case"<":h=d+h+M+v;break;case"=":h=d+v+h+M;break;case"^":h=v.slice(0,I=v.length>>1)+d+h+M+v.slice(I);break;default:h=v+d+h+M;break}return a(h)}return z.toString=function(){return c+""},z}function y(c,u){var x=p((c=q(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(E(u)/3)))*3,N=Math.pow(10,-m),w=et[8+m/3];return function(b){return x(N*b)+w}}return{format:p,formatPrefix:y}}var H,ct,lt;Et({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Et(t){return H=jt(t),ct=H.format,lt=H.formatPrefix,H}function Lt(t){return Math.max(0,-E(Math.abs(t)))}function Vt(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(E(n)/3)))*3-E(Math.abs(t)))}function Ct(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,E(n)-E(t))+1}function Rt(t){return function(){return t}}function It(t){return+t}var at=[0,1];function j(t){return t}function Z(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Rt(isNaN(n)?NaN:.5)}function ot(t){var n=t[0],e=t[t.length-1],r;return n>e&&(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function Ht(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Z(i,r),a=e(o,a)):(r=Z(r,i),a=e(a,o)),function(l){return a(r(l))}}function Tt(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Z(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(l){var f=st(t,l,1,r)-1;return a[f](i[f](l))}}function _t(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qt(){var t=at,n=at,e=dt,r,i,a,o=j,l,f,p;function y(){return l=Math.min(t.length,n.length)>2?Tt:Ht,f=p=null,c}function c(u){return isNaN(u=+u)?a:(f||(f=l(t.map(r),n,e)))(r(o(u)))}return c.invert=function(u){return o(i((p||(p=l(n,t.map(r),ht)))(u)))},c.domain=function(u){return arguments.length?(t=mt.call(u,It),o===j||(o=ot(t)),y()):t.slice()},c.range=function(u){return arguments.length?(n=Q.call(u),y()):n.slice()},c.rangeRound=function(u){return n=Q.call(u),e=Nt,y()},c.clamp=function(u){return arguments.length?(o=u?ot(t):j,c):o!==j},c.interpolate=function(u){return arguments.length?(e=u,y()):e},c.unknown=function(u){return arguments.length?(a=u,c):a},function(u,x){return r=u,i=x,y()}}function Ot(t,n){return qt()(t,n)}function Xt(t,n,e,r){var i=pt(t,n,e),a;switch(r=q(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=Vt(i,o))&&(r.precision=a),lt(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Ct(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Lt(i))&&(r.precision=a-(r.type==="%")*2);break}}return ct(r)}function Dt(t){var n=t.domain;return t.ticks=function(e){var r=n();return Mt(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Xt(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],l=r[a],f;return l<o&&(f=o,o=l,l=f,f=i,i=a,a=f),f=T(o,l,e),f>0?(o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f,f=T(o,l,e)):f<0&&(o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f,f=T(o,l,e)),f>0?(r[i]=Math.floor(o/f)*f,r[a]=Math.ceil(l/f)*f,n(r)):f<0&&(r[i]=Math.ceil(o*f)/f,r[a]=Math.floor(l*f)/f,n(r)),t},t}function Gt(){var t=Ot(j,j);return t.copy=function(){return _t(t,Gt())},gt.apply(t,arguments),Dt(t)}export{Jt as a,Kt as b,Ot as c,_t as d,ct as f,j as i,Gt as l,Zt as m,pt as t};
